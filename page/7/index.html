<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Jeremie&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Jeremie&#39;s Blog">
<meta property="og:url" content="http://hexo.jeremie.moe/page/7/index.html">
<meta property="og:site_name" content="Jeremie&#39;s Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Jeremie">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Jeremie&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Jeremie&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/archives/">归档</a>
        
          <a class="main-nav-link" href="/about-blog/">关于Blog</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://hexo.jeremie.moe"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-archlinux/archlinux安装bftpd服务器" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/07/24/archlinux/archlinux%E5%AE%89%E8%A3%85bftpd%E6%9C%8D%E5%8A%A1%E5%99%A8/" class="article-date">
  <time datetime="2015-07-24T10:13:20.000Z" itemprop="datePublished">2015-07-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ArchLinux/">ArchLinux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/24/archlinux/archlinux%E5%AE%89%E8%A3%85bftpd%E6%9C%8D%E5%8A%A1%E5%99%A8/">archlinux 安装bftpd服务器</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>惯例的参考：<a href="http://bftpd.sourceforge.net/doc/en/bftpd-tutorial.html" target="_blank" rel="noopener">http://bftpd.sourceforge.net/doc/en/bftpd-tutorial.html</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S bftpd</span><br></pre></td></tr></table></figure>

<p>安装后<code>bftpd.conf</code>配置文件在/etc目录下 几乎不用修改即可使用 独立模式启动服务器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;usr&#x2F;sbin&#x2F;bftpd -d</span><br></pre></td></tr></table></figure>

<p>直接以IP默认端口连接  以非root账户登录 终止则直接杀死进程即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">killall bftpd</span><br></pre></td></tr></table></figure>

<p>需要以后台服务方式运行则最方便的方法是使用xinetd超级服务器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S xinetd</span><br></pre></td></tr></table></figure>

<p>安装 启动并设置自启动</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start xinetd</span><br><span class="line">systemctl enable xinetd</span><br></pre></td></tr></table></figure>

<p>在<code>/etc/xinetd.conf</code>文件中添加以下内容让xintetd托管bftpd</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">service ftp</span><br><span class="line">&#123;</span><br><span class="line"> disable &#x3D; no</span><br><span class="line"> socket_type &#x3D; stream</span><br><span class="line"> wait &#x3D; no</span><br><span class="line"> user &#x3D; root</span><br><span class="line"> server &#x3D; &#x2F;usr&#x2F;sbin&#x2F;bftpd</span><br><span class="line"> log\_on\_success +&#x3D; HOST PID</span><br><span class="line"> log\_on\_failure +&#x3D; HOST</span><br><span class="line"> nice &#x3D; 10</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>完成</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hexo.jeremie.moe/2015/07/24/archlinux/archlinux%E5%AE%89%E8%A3%85bftpd%E6%9C%8D%E5%8A%A1%E5%99%A8/" data-id="ckcp0qdz4006ovs2644mp4da6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-archlinux/archlinux安装Yaourt" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/07/24/archlinux/archlinux%E5%AE%89%E8%A3%85Yaourt/" class="article-date">
  <time datetime="2015-07-24T03:58:00.000Z" itemprop="datePublished">2015-07-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ArchLinux/">ArchLinux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/24/archlinux/archlinux%E5%AE%89%E8%A3%85Yaourt/">archlinux安装Yaourt</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>参照：<a href="https://wiki.archlinux.org/index.php/Yaourt_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener">https://wiki.archlinux.org/index.php/Yaourt_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29</a><br>首先，使用添加源的方法已经无法安装yaourt了<br>所以使用第二个方法</p>
<p>首先安装 base-devel包（<strong>needed</strong> 前面是两个英文短横线，WP会自动转义）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S --needed base-devel</span><br></pre></td></tr></table></figure>

<p>全部安装完成后检查fakeroot 和 sudo是否安装好<br>可以直接再安装一下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pacman -S fakeroot</span><br><span class="line">pacman -S sudo</span><br></pre></td></tr></table></figure>

<p>有关sudo的相关配置参见我的linux安装文档 <a href="http://jeremie.moe/wordpress/%e5%ae%89%e8%a3%85archlinux/" target="_blank" rel="noopener">点这里</a></p>
<blockquote>
<p><em>Note：必须在非root用户下才能使用makepkg 指令</em></p>
</blockquote>
<p>之后使用你喜欢的下载器或者安装wget来执行wiki中的步骤（其中<strong>wget</strong> 可能要安装才能用）</p>
<p>安装 package-query：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">wget https:&#x2F;&#x2F;aur.archlinux.org&#x2F;packages&#x2F;pa&#x2F;package-query&#x2F;package-query.tar.gz</span><br><span class="line">tar zxvf package-query.tar.gz</span><br><span class="line">cd package-query</span><br><span class="line">makepkg -si</span><br><span class="line">cd ..</span><br></pre></td></tr></table></figure>
<p>安装 yaourt：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">wget https:&#x2F;&#x2F;aur.archlinux.org&#x2F;packages&#x2F;ya&#x2F;yaourt&#x2F;yaourt.tar.gz</span><br><span class="line">tar zxvf yaourt.tar.gz</span><br><span class="line">cd yaourt</span><br><span class="line">makepkg -si</span><br><span class="line">cd ..</span><br></pre></td></tr></table></figure>

<p>安装完成后记得使用以下指令更新数据库（<strong>devel</strong> 和<strong>aur</strong>前面是两个英文短横线）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yaourt -Sy --devel --aur</span><br></pre></td></tr></table></figure>

<p>也可以直接如下更新整个系统<br>同步数据库，升级软件包，搜索 AUR 和 devel (all packages based on cvs, svn, git, bzr(…)-version) 升级：（<strong>devel</strong> 和<strong>aur</strong>前面是两个英文短横线）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yaourt -Syu --devel --aur</span><br></pre></td></tr></table></figure>

<p>下面这条命令将会检查升级包括AUR软件包在内的所有系统软件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yaourt -Syua</span><br></pre></td></tr></table></figure>

<p>然后就可以愉快地像使用pacman一样使用yaourt了</p>
<p>另外：可以使用如下指令合并.pacman/pacnew</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yaourt -C</span><br></pre></td></tr></table></figure>


<p>Editer时可以对新旧文件进行对比<br>但是需要调用vimdiff<br>所以需要安装vim</p>
<hr>
<p>另，yaourt的快捷合并pacnew额功能不能完全替代手工管理<br>所以对于危险的配置文件更新<br>比如sudo的配置文件就需要手动更新替换（sudo配置文件需要专用的visudo进行编辑并进行语法检查后保存，否证配置文件失效会导致无法进root，系统报销）</p>
<hr>
<p>上面的方法的下载地址貌似改了路径<br>已经404了</p>
<p>安装部分改为以下方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;aur.archlinux.org&#x2F;package-query.git</span><br><span class="line">cd package-query</span><br><span class="line">makepkg -si</span><br><span class="line">cd ..</span><br><span class="line"></span><br><span class="line">git clone https:&#x2F;&#x2F;aur.archlinux.org&#x2F;yaourt.git</span><br><span class="line">cd yaourt</span><br><span class="line">makepkg -si</span><br><span class="line">cd ..</span><br></pre></td></tr></table></figure>

<p>因此安装依赖包也改变为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pacman -S --needed base-devel</span><br><span class="line">pacman -S git wget</span><br></pre></td></tr></table></figure>

<p>参照：<a href="https://archlinux.fr/yaourt-en" target="_blank" rel="noopener">https://archlinux.fr/yaourt-en</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hexo.jeremie.moe/2015/07/24/archlinux/archlinux%E5%AE%89%E8%A3%85Yaourt/" data-id="ckcp0qdz3006kvs262sgx6czm" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-raspberry pi 2 安装archlinux arm 版" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/07/24/raspberry%20pi%202%20%E5%AE%89%E8%A3%85archlinux%20arm%20%E7%89%88/" class="article-date">
  <time datetime="2015-07-23T16:04:54.000Z" itemprop="datePublished">2015-07-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ArchLinux/">ArchLinux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/24/raspberry%20pi%202%20%E5%AE%89%E8%A3%85archlinux%20arm%20%E7%89%88/">raspberry pi 2 安装archlinux arm 版</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>首先：第一点：很重要所以放在第一：</p>
<blockquote>
<p><strong>树莓派也是标准的计算机，也要按照正常的操作流程来开关机，否则会出现各种稀奇古怪匪夷所思的问题 树莓派的小黄灯在闪或者亮的时候代表在进行磁盘操作</strong></p>
</blockquote>
<p>很重要所以放在第一 然后安装教程：<a href="http://archlinuxarm.org/platforms/armv7/broadcom/raspberry-pi-2" target="_blank" rel="noopener">http://archlinuxarm.org/platforms/armv7/broadcom/raspberry-pi-2</a> 说说其中的重点 不要指望能在windows下进行这个操作 mkfs.vfat指令不能用就去安装dosfstools<code>这个包</code></p>
<blockquote>
<p><strong><em>pacman -S dosfstools</em></strong></p>
</blockquote>
<p>笔记本自带的读卡器不能被VM虚拟机正确识别，所以需要使用USB读卡器 解压文件时要使用root权限解压出来的文件的权限才够高，sudo并做不到</p>
<blockquote>
<p><strong><em>sudo su</em></strong></p>
</blockquote>
<p>另外在这里吐槽一下某些教程动不动就说要打开root用户啦 用root用户才方便啦 sudo好麻烦啦 不知道是些什么心态 另：原版arch的操作在arm上并没有什么不一样 该怎么做就可以怎么做</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hexo.jeremie.moe/2015/07/24/raspberry%20pi%202%20%E5%AE%89%E8%A3%85archlinux%20arm%20%E7%89%88/" data-id="ckcp0qdx3001tvs26gfpndosa" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-archlinux/ArchLinux之pacman调用axel多线程加速下载" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/07/22/archlinux/ArchLinux%E4%B9%8Bpacman%E8%B0%83%E7%94%A8axel%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%8A%A0%E9%80%9F%E4%B8%8B%E8%BD%BD/" class="article-date">
  <time datetime="2015-07-22T12:33:14.000Z" itemprop="datePublished">2015-07-22</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ArchLinux/">ArchLinux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/22/archlinux/ArchLinux%E4%B9%8Bpacman%E8%B0%83%E7%94%A8axel%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%8A%A0%E9%80%9F%E4%B8%8B%E8%BD%BD/">ArchLinux之pacman调用axel多线程加速下载</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>整理转自：<a href="http://www.nenew.net/" target="_blank" rel="noopener">奶牛博客</a><br><a href="http://www.nenew.net/arch-linux-pacman-axel-multi-download.html" target="_blank" rel="noopener">http://www.nenew.net/arch-linux-pacman-axel-multi-download.html</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">安装</span><br><span class="line">sudo pacman -S axel</span><br><span class="line">编辑&#x2F;etc&#x2F;axelrc</span><br><span class="line">alternate_output &#x3D; 1</span><br><span class="line">打开输出</span><br><span class="line">设置&#x2F;etc&#x2F;pacman.conf文件使其调用axel下载</span><br><span class="line">XferCommand &#x3D; &#x2F;usr&#x2F;bin&#x2F;axel -n 5 -a -o %o %u</span><br><span class="line">-n后面是线程数</span><br></pre></td></tr></table></figure>

<p>同时对pacman和yaourt有效</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hexo.jeremie.moe/2015/07/22/archlinux/ArchLinux%E4%B9%8Bpacman%E8%B0%83%E7%94%A8axel%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%8A%A0%E9%80%9F%E4%B8%8B%E8%BD%BD/" data-id="ckcp0qdyy005zvs269hlz0usq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-archlinux/archlinux搭建SS服务器" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/07/10/archlinux/archlinux%E6%90%AD%E5%BB%BASS%E6%9C%8D%E5%8A%A1%E5%99%A8/" class="article-date">
  <time datetime="2015-07-09T17:46:02.000Z" itemprop="datePublished">2015-07-10</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ArchLinux/">ArchLinux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/10/archlinux/archlinux%E6%90%AD%E5%BB%BASS%E6%9C%8D%E5%8A%A1%E5%99%A8/">archlinux搭建SS服务器</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>参考：<a href="https://wiki.archlinux.org/index.php/Shadowsocks_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener">https://wiki.archlinux.org/index.php/Shadowsocks_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29</a><br>说一下步骤以及WIKI上不清楚的地方</p>
<hr>
<p>首先是安装SS</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S shadowsocks</span><br></pre></td></tr></table></figure>

<p>再cd到 /etc/shadowsocks/ 目录创建 xxx.josn 的服务器配置文件（同时这里放置的也是客户端配置文件）</p>
<p>服务器版本配置文件内容（这里是重点，网上好像都没说清楚）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	&quot;server&quot;:&quot;0.0.0.0&quot;,</span><br><span class="line">	&quot;server_port&quot;:443,</span><br><span class="line">	&quot;local_port&quot;:1080,</span><br><span class="line">	&quot;password&quot;:&quot;your-passwd&quot;,</span><br><span class="line">	&quot;timeout&quot;:300,</span><br><span class="line">	&quot;method&quot;:&quot;aes-256-cfb&quot;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其实和客户端配置文件几乎一样<br>只是服务器的重要在于server_port、password、method这三个<br>两个local并没有存在的意义<br>server也直接0.0.0.0就ok<br>客户端连接时直接匹配server_port、password、method就可以正确连接上服务器<br>至于fast_open这个linux特有特性，我客户端使用的是windows所以并不关心，也无法测试</p>
<p>然后<br>配置文件写好后<br>启动服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start shadowsocks-server@xxx</span><br></pre></td></tr></table></figure>

<p>上面指令最后@后面的xxx就是json配置文件的名字（无后缀）（注意这里没有通常的.service）<br>这时可以用以下命令查看是否启动完</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl</span><br></pre></td></tr></table></figure>

<p>如果有问题可以使用如下指令查看详细错误信息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status shadowsocks@xxx</span><br></pre></td></tr></table></figure>

<p>同时也可以连接试试看 确认正常后替换start为enable设置自启动</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable shadowsocks@foo</span><br></pre></td></tr></table></figure>

<p>显示创建链接成功就ok了 重启服务器测试是否自动启动 之后就可以愉快地SS了～～～</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hexo.jeremie.moe/2015/07/10/archlinux/archlinux%E6%90%AD%E5%BB%BASS%E6%9C%8D%E5%8A%A1%E5%99%A8/" data-id="ckcp0qdz6006uvs264rjb9yb4" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-archlinux/archlinux修改火狐语言" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/07/05/archlinux/archlinux%E4%BF%AE%E6%94%B9%E7%81%AB%E7%8B%90%E8%AF%AD%E8%A8%80/" class="article-date">
  <time datetime="2015-07-05T13:53:11.000Z" itemprop="datePublished">2015-07-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ArchLinux/">ArchLinux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/05/archlinux/archlinux%E4%BF%AE%E6%94%B9%E7%81%AB%E7%8B%90%E8%AF%AD%E8%A8%80/">archlinux修改火狐语言</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在archlinux下修改火狐语言<br>1.安装火狐<br>2.安装中文语言包<br>3.修改about:config中的general.useragent.locale为zh-CN<br>4.修改about:config中的intl.locale.matchOS为false<br>完成</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hexo.jeremie.moe/2015/07/05/archlinux/archlinux%E4%BF%AE%E6%94%B9%E7%81%AB%E7%8B%90%E8%AF%AD%E8%A8%80/" data-id="ckcp0qdz1006evs260nzoe8am" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-有关Erlang分布式节点长名试验" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/06/29/%E6%9C%89%E5%85%B3Erlang%E5%88%86%E5%B8%83%E5%BC%8F%E8%8A%82%E7%82%B9%E9%95%BF%E5%90%8D%E8%AF%95%E9%AA%8C/" class="article-date">
  <time datetime="2015-06-29T06:24:19.000Z" itemprop="datePublished">2015-06-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Erlang/">Erlang</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/29/%E6%9C%89%E5%85%B3Erlang%E5%88%86%E5%B8%83%E5%BC%8F%E8%8A%82%E7%82%B9%E9%95%BF%E5%90%8D%E8%AF%95%E9%AA%8C/">有关Erlang分布式节点长名试验</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>节点名分长名与短名两种<br>节点名由前缀与后缀组成</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">本机唯一节点名（前缀）@本机地址（后缀）</span><br></pre></td></tr></table></figure>

<p>对于cookie<br>两个几点连接时cookie必须一致 否则连接请求会被阻止</p>
<p>对于长名<br>节点名前缀在同一个机器上必须要唯一 即使同一机器上的多个节点后缀可以不同<br>节点长名后缀可使用可由DNS解析的域名或者直接为IP地址<br>当连接使用域名的节点会访问由DNS服务器解析的对应IP</p>
<p>当使用IP作为后缀时<br>使用<code>net_adm:ping(‘长节点名’).</code>建立连接时会连接到到对应的IP地址处<br>若目标节点后缀与目标IP不同时无法建立连接 即使是ping通后的自动建立全连通网络时也无法建立到错误的节点处<br>若使用127.0.0.1作为后缀 则只有本机节点能够连接到以127.0.0.1作为后缀的节点<br>若使用错误的IP地址 则无法接受ping 但其可以ping其他正确的节点 但在全连通过程中无法连接到其他设备的节点</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hexo.jeremie.moe/2015/06/29/%E6%9C%89%E5%85%B3Erlang%E5%88%86%E5%B8%83%E5%BC%8F%E8%8A%82%E7%82%B9%E9%95%BF%E5%90%8D%E8%AF%95%E9%AA%8C/" data-id="ckcp0qdxg0035vs269y8t73b6" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-有关ICS服务与Pcap_DNSProxy共存的解决方案" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/06/28/%E6%9C%89%E5%85%B3ICS%E6%9C%8D%E5%8A%A1%E4%B8%8EPcap_DNSProxy%E5%85%B1%E5%AD%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" class="article-date">
  <time datetime="2015-06-27T16:30:50.000Z" itemprop="datePublished">2015-06-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Windows/">Windows</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/28/%E6%9C%89%E5%85%B3ICS%E6%9C%8D%E5%8A%A1%E4%B8%8EPcap_DNSProxy%E5%85%B1%E5%AD%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">有关ICS服务与Pcap_DNSProxy共存的解决方案</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>因为学校使用客户端拨号上网<br>之前又使用了netsh开启win7的虚拟wifi（HotWifi）功能共享上网<br>现在要给承担拨号以及wifi共享任务的网关机添加一个DNS服务器实现反DNS投毒的功能<br>但是因为实现从客户端拨号连接到虚拟无线热点之间使用的ICS网络共享服务自带了DNS以及DHCP功能 占用了53端口<br>以至于安装的Pcap_DNSProxy服务器无法打开53端口正常工作</p>
<p>想到的解决方案是将Pcap_DNSProxy的服务设置为自动启动<br>并将ICS服务设置为自动延迟启动<br>使得在正常情况下Pcap_DNSProxy总能比ICS先启动并占用53端口<br>以此屏蔽ICS的DNS服务功能</p>
<p>另外<br>因为ICS的DHCP自动IP分配功能IP分配缓慢且无法手动设置IP<br>使用了一个开启了桥接功能的路由并设置好DHCP来以抢先机制取代ICS的又慢又难用的DHCP功能<br>而且以路由器作为网络中心也可以解决因为作为无线热点的USB无线网卡由于性能不足导致内网传输缓慢以及全速传输内网传输时硬件过热导致的设备丢失问题</p>
<p>附当前网络物理结构<br> <a href="http://jeremie.moe/wordpress/wp-content/uploads/2015/06/1.png" target="_blank" rel="noopener"><img src="http://jeremie.moe/wordpress/wp-content/uploads/2015/06/1-300x200.png" alt="物理结构"></a></p>
<p> 网络逻辑结构（点击看大图）<br> <a href="http://jeremie.moe/wordpress/wp-content/uploads/2015/06/2.png" target="_blank" rel="noopener"><img src="http://jeremie.moe/wordpress/wp-content/uploads/2015/06/2-300x145.png" alt="逻辑结构"></a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hexo.jeremie.moe/2015/06/28/%E6%9C%89%E5%85%B3ICS%E6%9C%8D%E5%8A%A1%E4%B8%8EPcap_DNSProxy%E5%85%B1%E5%AD%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" data-id="ckcp0qdxh003avs2670i54a3c" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-“erlang-rfc4627”ErlangJson库windows7x64+msys2环境下构建与使用" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/06/24/%E2%80%9Cerlang-rfc4627%E2%80%9DErlangJson%E5%BA%93windows7x64+msys2%E7%8E%AF%E5%A2%83%E4%B8%8B%E6%9E%84%E5%BB%BA%E4%B8%8E%E4%BD%BF%E7%94%A8/" class="article-date">
  <time datetime="2015-06-24T13:08:03.000Z" itemprop="datePublished">2015-06-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Erlang/">Erlang</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/24/%E2%80%9Cerlang-rfc4627%E2%80%9DErlangJson%E5%BA%93windows7x64+msys2%E7%8E%AF%E5%A2%83%E4%B8%8B%E6%9E%84%E5%BB%BA%E4%B8%8E%E4%BD%BF%E7%94%A8/">“erlang-rfc4627”ErlangJson库windows7x64+msys2环境下构建与使用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://erlang-rfc4627" target="_blank" rel="noopener">erlang-rfc4627库GitHub链接</a><br>构建环境： windows7 x64 msys2 64bit已预先在msys2中使用pacman装好GNU</p>
<p>AutoMake msys2启动脚本如下</p>
<figure class="highlight shell"><figcaption><span>script</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@SET PATH=d:\\Code\\C++\\x86\_64-4.9.2-release-posix-seh-rt\_v4-rev2\\mingw64\\bin;d:\\Code\\Erlang\\erl6.4\\bin;D:\\Code\\Perl64\\site\\bin;D:\\Code\\Perl64\\bin</span><br><span class="line">@SET CPLUS\_INCLUDE\_PATH=d:\\Code\\C++\\x86\_64-4.9.2-release-posix-seh-rt\_v4-rev2\\mingw64\\opt;d:\\Code\\C++\\x86\_64-4.9.2-release-posix-seh-rt\_v4-rev2\\mingw64\\opt\\include</span><br><span class="line">cd /d d:\</span><br><span class="line">cd d:\\Code\\msys64\</span><br><span class="line">msys2_shell.bat</span><br><span class="line">pause</span><br></pre></td></tr></table></figure>

<p>启动脚本中已配置好环境变量<br>包含常用的mingw-w64、shell脚本用perl、添加的erlang执行文件bin路径、mingw相关头文件搜索路径<br>设置好了msys2初始目录后<br>启动原生的msys2_shell启动脚本</p>
<p>附msys2中切换到D盘方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;D&#x2F;</span><br></pre></td></tr></table></figure>

<p>其余操作与linux下一致<br>切换到rfc4627项目所在目录后<br>执行make指令<br>自动根据Makefile文件构建项目<br>使用<code>make dist</code>可构建文档<br>在erlang控制台（werl）使用<code>cd(&quot;路径&quot;).</code>切换工作路径到项目ebin文件夹<br>执行指令<code>application:start(rfc4627_jsonrpc).</code>启动jsonrpc应用程序<br>执行<code>l(rfc4627).</code>指令单独加载rfc4627解析模块</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hexo.jeremie.moe/2015/06/24/%E2%80%9Cerlang-rfc4627%E2%80%9DErlangJson%E5%BA%93windows7x64+msys2%E7%8E%AF%E5%A2%83%E4%B8%8B%E6%9E%84%E5%BB%BA%E4%B8%8E%E4%BD%BF%E7%94%A8/" data-id="ckcp0qdx4001yvs266hicgwwp" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-安装ArchLinux" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/06/19/%E5%AE%89%E8%A3%85ArchLinux/" class="article-date">
  <time datetime="2015-06-19T14:03:34.000Z" itemprop="datePublished">2015-06-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ArchLinux/">ArchLinux</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/19/%E5%AE%89%E8%A3%85ArchLinux/">安装ArchLinux</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>参考： <a href="http://www.cnblogs.com/mad/p/3280041.html" target="_blank" rel="noopener">http://www.cnblogs.com/mad/p/3280041.html</a> <a href="https://wiki.archlinux.org/index.php/Installation\_guide\_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener">https://wiki.archlinux.org/index.php/Installation\_guide\_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29</a> <a href="https://wiki.archlinux.org/index.php/Installation_guide" target="_blank" rel="noopener">https://wiki.archlinux.org/index.php/Installation_guide</a> <em>Note；使用iso引导进入系统后，当前目录下可用ls命令看到一个名叫install.txt的文件，可使用nano install.txt查看，其中有所使用iso镜像对应的官方的安装向导信息</em> 1、分区</p>
<blockquote>
<p><strong>cfdisk</strong></p>
</blockquote>
<p><em>Note：新版cfdisk会要求选择引导类型 如果使用grub作为引导程序则必须分区为dos(MBR)</em> grub+gpt则必须要留出一个BIOS Boot分区</p>
<blockquote>
<p><em>Note: For GRUB to boot from a GPT partitioned disk on a BIOS based system, one has to create a BIOS boot partition. Please note this partition is unrelated to the /boot mountpoint, and will be used by GRUB directly. Do not create a filesystem on it, and do not mount it.</em></p>
</blockquote>
<p>参见：<a href="https://wiki.archlinux.org/index.php/Partitioning#Choosing\_between\_GPT\_and\_MBR" target="_blank" rel="noopener">https://wiki.archlinux.org/index.php/Partitioning#Choosing\_between\_GPT\_and\_MBR</a> ·注意【Bootable】，/ 分区一定要Bootable，如果你单独划分了/boot，那这个bootable。 2、格式化</p>
<blockquote>
<p><strong>fdisk /dev/sda</strong></p>
</blockquote>
<p>Command（m or help）：p（这里输入p，查看你现在的分区和名字） q退出fdisk 然后输入下面的命令格式化：</p>
<blockquote>
<p><strong>mkfs.ext4 /dev/sda1</strong></p>
</blockquote>
<p>如果你还分了/home，就继续 mkfs.ext4 /dev/sdaX x是你的home的分区名。 3、挂载分区</p>
<blockquote>
<p><strong>mount /dev/sda1 /mnt</strong></p>
</blockquote>
<p>如果你还有/home</p>
<blockquote>
<p><strong>mkdir /mnt/home</strong> <strong>mount /dev/sda2 /mnt/hom</strong></p>
</blockquote>
<p><em>Note:Linux中，设备均在/dev/目录下，磁盘设备名格式一般为/sda/、/sdb/、/sdc/，磁盘上的卷名格式一般为/sda1/、/sda2/以此类推</em> 4、选择镜像站点</p>
<blockquote>
<p><strong>nano /etc/pacman.d/mirrorlist</strong></p>
</blockquote>
<p>找带China的放到最前面。 nano使用方法：PageDown PageUp 滚屏，Ctrl+V 向下翻页，Ctrl+Y 向上翻页， Alt+6 复制当前行，Ctrl+u 粘贴，Ctrl+6标记开始点，标记开始点后移动光标选择文本，Alt+6复制开始点到当前点之间选白的内容，按Ctrl+w写入修改，Ctrl+x 退出。 5、安装系统</p>
<blockquote>
<p><strong>pacstrap /mnt base</strong></p>
</blockquote>
<p>当pacstrap后没有-i参数时会全自动下载安装，可以去干别的事情了，中间会出现卡屏，大概是因为休眠之类的原因吧，按上下箭头就会激活且不影响下载进程。 6、生成fstab</p>
<blockquote>
<p><strong>genfstab -U -p /mnt &gt;&gt; /mnt/etc/fstab</strong> <strong>cat /mnt/etc/fstab</strong></p>
</blockquote>
<p>第一条是生成，第二条是查看生成的内容，没问题就Ctrl+x退出即可。 7、配置系统 先要chroot切换到新系统，命令如下：</p>
<blockquote>
<p>*<em>arch-chroot /mnt *</em></p>
</blockquote>
<p>a、配置locale，语言 编辑/etc/locale.gen，这个文件所有的内容都是注释的，所以在最上面添加en_US.UTF-8 UTF-8即可。 <em>Note：我一般是直接解除下面的所需的注释即可</em></p>
<blockquote>
<p><strong>nano /etc/locale.gen</strong> <strong>en_US.UTF-8 UTF-8</strong></p>
</blockquote>
<p>然后执行locale-gen自动配置</p>
<blockquote>
<p><strong>locale-gen</strong></p>
</blockquote>
<p>接着配置locale.conf <em>Note：locale.conf 在 /etc/locale.conf ，在其中添加一行 LANG=语言 即可，一般是LANG=en_US.UTF-8，或者按照上一步的设置</em> b、给计算机起名</p>
<blockquote>
<p><strong>echo myhostname &gt; /etc/hostname</strong></p>
</blockquote>
<p>c、配置网络 将网络设置成自动获取（启动DHCP服务）</p>
<blockquote>
<p><strong>systemctl enable dhcpcd.service</strong></p>
</blockquote>
<p>d、设置root密码</p>
<blockquote>
<p><strong>passwd</strong></p>
</blockquote>
<p>e、安装GRUB</p>
<blockquote>
<p><strong>pacman -S grub</strong></p>
<p><strong>grub-install –target=i386-pc –recheck /dev/sda</strong></p>
</blockquote>
<p><em>Note：嫌命令长可以直接省去中间的–target=i386-pc，grub一般会自动识别到平台</em> <em>Note 2：这一步很重要，很重要，很重要所以说三次。正常应该会显示“Installation finished. No error reported.”。如果显示其他内容或者有带Waring或者Error的信息出现就表示出了错误。前面有两次要么就是mount /mnt的时候错误地挂载了/dev/sda（整个磁盘），要么是cfdisk创建分区表的时候选择了gpt导致这里出现警告和错误。</em> 然后配置grub</p>
<blockquote>
<p><strong>grub-mkconfig -o /boot/grub/grub.cfg</strong></p>
</blockquote>
<p>8、卸载mnt，重启 退出chroot</p>
<blockquote>
<p><strong>exit</strong></p>
</blockquote>
<p>卸载mnt</p>
<blockquote>
<p><strong>umount /mnt</strong></p>
</blockquote>
<p><em>Note：如果前面挂载的时候错挂载了整个磁盘或者是grub-install的步骤出了问题，这一步解挂载的时候会显示忙碌，然后一直卸载不了/mnt挂载点</em> 重启</p>
<blockquote>
<p><strong>reboot</strong></p>
</blockquote>
<p>9、安装桌面环境 <em>Note：这里说一下pacman基本用法</em> <em>第一个参数最常用的是-Ss（查询远程数据库），-S（安装指定名称的包），-Syu（同步远程数据库在本地的元信息）</em> <em>参见：<a href="https://wiki.archlinux.org/index.php/Pacman\_tips\" target="_blank" rel="noopener">https://wiki.archlinux.org/index.php/Pacman\_tips\</a></em>(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)_ <em>一般我的步骤是先-Ss查询软件包，找到全名，再-S全名 安装</em> a、安装xorg-server</p>
<blockquote>
<p><strong>pacman -S xorg-server xorg-server-utils xorg-xinit</strong></p>
</blockquote>
<p><em>Note：上面这一步安装了三个包xorg-server、xorg-server-utils、xorg-xinit</em> <em>缺少xorg-server会导致测试Xorg或者启动xfec4时出现/usr/bin/X找不到的错误</em> b、安装显卡驱动 如果你不知道自己是什么显卡，就用下面的命令查看下：</p>
<blockquote>
<p><strong>lspci | grep VGA</strong></p>
</blockquote>
<p>然后执行下面的命令搜索下匹配你显卡的驱动</p>
<blockquote>
<p><strong>pacman -Ss xf86-video | less</strong></p>
</blockquote>
<p>VMware虚拟机安装xf86-video-vmware这一个 其他的型号都可以在pacman使用-Ss指令搜索时多个关键字之间使用空格分隔开 例如“xf86-video intel” 、“xf86-video nvidia” 或者使用“貌似是万能”的“xf86-video vesa” 作为搜索关键字 笔记本还可以装触摸板驱动</p>
<blockquote>
<p><strong>pacman -S xf86-input-synaptics</strong></p>
</blockquote>
<p>如果想要测试X环境是否安装好了，可以执行下面的命令。</p>
<blockquote>
<p><strong>pacman -S xorg-twm xorg-xclock xterm</strong> <strong>startx</strong> <strong>exit</strong> <strong>pkill X</strong></p>
</blockquote>
<p>c、安装xfce4桌面环境</p>
<blockquote>
<p><strong>pacman -S slim</strong></p>
</blockquote>
<p>先安装slim，这是一个图像、登录管理器，可用于xfce4的自启动。</p>
<blockquote>
<p><strong>pacman -S xfce4</strong></p>
</blockquote>
<p>现在，大功告成！！启动！！！</p>
<blockquote>
<p><strong>startxfce4</strong></p>
</blockquote>
<p><em>Note：如果这里启动不了，显示/usr/bin/X没有这个文件或者目录就表示上面x环境没装全</em> d、安装字体</p>
<blockquote>
<p><strong>pacman -S wqy-microhei wqy-zenhei wqy-bitmapfont</strong></p>
</blockquote>
<p>至于美化，都是通过界面操作的，system-setting可以设置字体，另外terminal的preference可以设置它用的字体。 <em>Note：可以不安</em> 9、添加一个用户 总不能用root工作，所以我们要添加一个普通账户。</p>
<blockquote>
<p><strong>pacman -S sudo</strong> <strong>useradd -m yourname</strong> <strong>passwd yourname</strong></p>
</blockquote>
<p>然后把该用户添加到一些组：　audio disk locate network optical power storage video wheel systemd-journal</p>
<blockquote>
<p><strong>gpasswd -a yourname wheel</strong></p>
</blockquote>
<p>我是添加了power storage network wheel systemd-journal 因为虚拟机，基本只是用terminal学习一些其他的语言，其他不干。（嗯.这里需要一个个添加） 给予这个新用户sudo权限 参照：<a href="https://wiki.archlinux.org/index.php/Sudo_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener">https://wiki.archlinux.org/index.php/Sudo_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29</a> 启动编辑sudoers文件专用的编辑器</p>
<blockquote>
<p>sudo的配置文件是<code>/etc/sudoers</code>。<code>visudo</code>会锁住<code>sudoers</code>文件，保存修改到临时文件，然后检查文件格式，确保正确后才会覆盖<code>sudoers</code>文件。必须保证<code>sudoers</code>格式正确，否则sudo将无法运行。</p>
<p><strong>警告:</strong> <code>/etc/sudoers</code>格式错误会导致sudo不可用。<strong>必须</strong>使用<code>visudo</code>编辑该文件防止出错。</p>
<p><strong>visudo</strong></p>
</blockquote>
<p>添加一行</p>
<blockquote>
<p><strong>用户名   ALL=(ALL) ALL</strong> </p>
</blockquote>
<p>比如说</p>
<blockquote>
<p><strong>yourname   ALL=(ALL) ALL</strong></p>
</blockquote>
<p>:x保存并退出 10、设置xfce4自启动 安装搞vim，方便编辑文件。</p>
<blockquote>
<p><strong>pacman -S vim</strong></p>
</blockquote>
<p>注销或重启，然后用普通用户登录。</p>
<blockquote>
<p><strong>vim .xinitrc</strong></p>
</blockquote>
<p>删掉exe startxfce4前面的#，然后执行命令：</p>
<blockquote>
<p><strong>systemctl enable slim.service</strong></p>
</blockquote>
<p>这样下次启动，就自动启动xfce4了。       Other Note： 可以安装sudo简化root权限使用 增强安全性 参见：<a href="https://wiki.archlinux.org/index.php/Sudo_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29" target="_blank" rel="noopener">https://wiki.archlinux.org/index.php/Sudo_%28%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%29</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hexo.jeremie.moe/2015/06/19/%E5%AE%89%E8%A3%85ArchLinux/" data-id="ckcp0qdxe002yvs263nq4ae2s" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/6/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" href="/page/8/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AHK/">AHK</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ArchLinux/">ArchLinux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C++</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Code/">Code</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Erlang/">Erlang</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/GalGame/">GalGame</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/OpenWRT/">OpenWRT</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/WinSDK/">WinSDK</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows/">Windows</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/firefox/">firefox</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/memo/">memo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/notes/">notes</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E4%BA%BA%E5%B7%A5%E6%99%BA%E7%81%B5/">人工智灵</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%85%B3%E4%BA%8EBlog/">关于Blog</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%87%E5%BF%98/">备忘</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%87%E5%BF%98/Notes/">Notes</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%87%E5%BF%98/%E6%9D%82%E7%89%A9/">杂物</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9C%AA%E5%88%86%E7%B1%BB/">未分类</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9D%82%E7%89%A9/">杂物</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9D%82%E7%89%A9/Notes/">Notes</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%A8%B1%E8%8A%B1%E5%BA%84%E7%9A%84%E5%AE%A0%E7%89%A9%E5%A5%B3%E5%AD%A9/">樱花庄的宠物女孩</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B8%B8%E6%88%8F%E5%88%B6%E4%BD%9C/">游戏制作</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B8%B8%E6%88%8F%E5%88%B6%E4%BD%9C/Notes/">Notes</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%8A%B1%E4%BD%91%E4%BA%AC%E5%A5%B3%E4%BB%86%E9%98%9F/">花佑京女仆队</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ePost/" rel="tag">ePost</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/ePost/" style="font-size: 10px;">ePost</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">六月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">七月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">六月 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">五月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">四月 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">六月 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/05/">五月 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">四月 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">三月 2013</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/07/17/archlinux/Archlinux-%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%B8%85%E7%90%86-free-disk-space/">Archlinux 磁盘空间清理 free disk space</a>
          </li>
        
          <li>
            <a href="/2020/06/26/%E9%95%BF%E5%AF%BF%E4%B8%AA%E4%BA%BA%E7%BD%91%E7%AB%99%E6%9E%84%E5%BB%BA%E6%80%9D%E8%B7%AF/">长寿个人网站构建思路</a>
          </li>
        
          <li>
            <a href="/2020/05/16/archlinux/netdata%E6%B1%87%E8%81%9A%E5%A4%9A%E4%B8%AA%E8%8A%82%E7%82%B9%E7%9A%84%E7%9B%91%E6%B5%8B%E6%95%B0%E6%8D%AE%E5%88%B0%E4%B8%80%E4%B8%AA%E4%B8%AD%E5%BF%83%E8%8A%82%E7%82%B9/">netdata汇聚多个节点的监测数据到一个中心节点</a>
          </li>
        
          <li>
            <a href="/2020/05/11/memo/2020-05-11/">时代变啦</a>
          </li>
        
          <li>
            <a href="/2020/05/11/DOS%E6%89%B9%E5%A4%84%E7%90%86%E9%AB%98%E7%BA%A7%E6%95%99%E7%A8%8B/">DOS批处理高级教程</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Jeremie<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives/" class="mobile-nav-link">归档</a>
  
    <a href="/about-blog/" class="mobile-nav-link">关于Blog</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>